# 🎨 自定义图标设置指南

## 📋 快速开始

### 1. 准备您的图片
- 格式：PNG（推荐）
- 建议尺寸：512x512 或更大
- 背景：透明背景效果最佳
- 内容：简洁明了，在小尺寸下也能清晰识别

### 2. 设置自定义图标
```bash
# 1. 将您的图片复制到 build 目录并重命名
cp /path/to/your/image.png build/custom-icon.png

# 2. 预览不同边距效果（推荐）
npm run preview-icon-sizes

# 3. 选择合适的图标设置方式：
# 方式A: 标准设置（无边距优化）
npm run setup-icon

# 方式B: 智能边距优化（推荐，解决Dock大小不一致问题）
npm run setup-icon-with-padding

# 4. 清除系统图标缓存（如果需要）
npm run clear-icon-cache

# 5. 重新启动应用
npm run dev
```

## 🔧 详细说明

### 图标优化特性
- **多尺寸生成**：自动生成16x16到1024x1024的多种尺寸
- **质量优化**：使用Lanczos滤镜确保缩放质量
- **透明背景**：保持透明背景，适配系统主题
- **居中对齐**：确保图标在各种尺寸下都居中显示

### 生成的文件
- `icon.svg` - 矢量源文件
- `icon.png` - Linux平台图标 (512x512)
- `icon.ico` - Windows平台图标 (多尺寸)
- `icon.icns` - macOS平台图标 (多尺寸，Dock优化)

### macOS Dock 显示优化
- 包含完整的iconset尺寸规格
- 支持Retina显示屏
- 优化了在不同Dock大小设置下的显示效果

## 🛠️ 故障排除

### 图标未更新？
1. 运行缓存清除命令：`npm run clear-icon-cache`
2. 完全退出应用程序并重新启动
3. 重启系统（极端情况）

### 图标模糊？
- 确保原始图片分辨率足够高（建议1024x1024）
- 避免使用过于复杂的细节
- 测试在小尺寸下的显示效果

### 图标大小不一致？
**这是最常见的问题！** 解决方案：

1. **使用智能边距优化**：
   ```bash
   npm run setup-icon-with-padding
   ```

2. **预览不同边距效果**：
   ```bash
   npm run preview-icon-sizes
   ```

3. **原因分析**：
   - 您的图标内容可能填满了整个画布
   - 其他应用图标通常有15-25%的边距
   - macOS Dock会按比例显示，导致视觉大小不一致

4. **最佳实践**：
   - 使用15%边距（标准型）适合大多数情况
   - 复杂图标使用25%边距（宽松型）
   - 简单图标可使用5%边距（紧凑型）

## 📱 图标设计建议

### 最佳实践
- **简洁性**：避免过多细节，确保在16x16像素下仍可识别
- **对比度**：使用高对比度颜色，确保在各种背景下都清晰
- **一致性**：与应用功能相关，保持品牌一致性
- **测试**：在不同尺寸和背景下测试显示效果

### 推荐工具
- **设计**：Figma, Sketch, Adobe Illustrator
- **优化**：ImageOptim, TinyPNG
- **预览**：Icon Slate, Image2icon

## 🔄 恢复默认图标

如果想恢复默认图标：
```bash
# 删除自定义图标文件
rm build/custom-icon.png

# 重新生成默认图标
npm run generate-icons

# 清除缓存
npm run clear-icon-cache
```

## 💡 提示

- 保留原始高分辨率图片作为备份
- 定期测试图标在不同系统版本下的显示效果
- 考虑为不同平台设计略有差异的图标版本 